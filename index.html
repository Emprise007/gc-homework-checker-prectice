<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCC ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
    <style>
        /* === 1. ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ë³€ìˆ˜ ì„¤ì • === */
        :root {
            /* Light Mode Default */
            --bg-main: #f0f0f0;
            --bg-container: #ffffff;
            --bg-item: #e8e8e8;
            --text-color: #333333;
            --title-color: #333333; 
            --accent-color: #cc0000; 
            --shadow-color: rgba(0, 0, 0, 0.15);
            --border-color: #ccc;
            --sidebar-bg: #eeeeee; 
            --progress-bar-bg: #d9d9d9;
            --drag-bg: #ffcccc;
            --favorite-bg: #f8f8ff; 
            --favorite-border: #d3d3d3;
            
            /* Task & Calendar Progress Colors */
            --progress-complete: #4CAF50; /* Green */
            --progress-partial: #FFC300; /* Yellow/Gold for Partial */
            --progress-incomplete: #FF5733; /* Red/Orange for Incomplete */
        }

        /* Dark Mode */
        .dark-mode {
            --bg-main: #1c1c1c;
            --bg-container: #252525;
            --bg-item: #333333;
            --text-color: #f0f0f0;
            --title-color: #ffffff; 
            --accent-color: #ff3333; 
            --shadow-color: rgba(255, 255, 255, 0.1);
            --border-color: #444;
            --sidebar-bg: #222222;
            --progress-bar-bg: #444444;
            --drag-bg: #550000;
            --favorite-bg: #111111; 
            --favorite-border: #333333;

            /* Task & Calendar Progress Colors (Dark) */
            --progress-complete: #66BB6A; 
            --progress-partial: #FFD700; 
            --progress-incomplete: #FF6347; 
        }

        /* === 2. ê¸°ë³¸ ìŠ¤íƒ€ì¼ === */
        body { 
            background-color: var(--bg-main); 
            color: var(--text-color); 
            font-family: 'Malgun Gothic', sans-serif; 
            display: flex; 
            justify-content: center; 
            padding: 20px; 
            margin: 0; 
            transition: background-color 0.3s, color 0.3s;
        }
        .container { 
            width: 100%; 
            max-width: 1100px; 
            background-color: var(--bg-container); 
            padding: 25px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px var(--shadow-color); 
            position: relative;
        }
        
        /* ë²„íŠ¼ ë°°ì¹˜ */
        #top-buttons {
            position: absolute;
            top: 25px;
            right: 25px;
            display: flex;
            gap: 10px;
        }
        #theme-toggle, #calendar-toggle-btn {
            background-color: var(--bg-item);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }
        #theme-toggle:hover, #calendar-toggle-btn:hover {
            opacity: 0.8;
        }

        h1 { text-align: center; color: var(--title-color); margin-bottom: 5px; font-size: 2.5em; transition: color 0.3s; }
        
        /* ë©”ì¸ ìˆ™ì œ ë·° ìŠ¤íƒ€ì¼ */
        #main-view {
            /* ìˆ™ì œ ëª©ë¡ ê´€ë ¨ ìŠ¤íƒ€ì¼ ìœ ì§€ */
        }
        
        #main-content-area {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        #favorite-sidebar {
            width: 250px;
            min-width: 200px;
            background-color: var(--favorite-bg);
            border: 1px solid var(--favorite-border);
            padding: 15px;
            border-radius: 10px;
            align-self: flex-start;
        }
        #favorite-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        #task-view-container {
            flex: 1;
            display: flex;
            gap: 20px;
        }
        .task-column-wrapper {
            flex: 1;
        }
        
        /* ìºë¦­í„° ë²„íŠ¼ */
        #character-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            padding: 10px 0;
            margin-bottom: 10px;
            border: 1px dashed var(--border-color);
            border-radius: 8px;
            padding: 10px;
        }
        .char-btn.active {
            border: 2px solid var(--accent-color);
            box-shadow: 0 0 5px rgba(204, 0, 0, 0.5);
            padding: 7px 4px;
        }
        /* ìˆ™ì œ í•­ëª© */
        .task-item.done {
            background-color: var(--progress-complete);
            color: white;
            text-decoration: line-through;
        }

        /* ì¼ê´„ ì™„ë£Œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .bulk-toggle-container {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 10px;
        }
        .bulk-toggle-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        .bulk-toggle-btn.complete { background-color: var(--progress-complete); color: white; }
        .bulk-toggle-btn.incomplete { background-color: var(--progress-incomplete); color: white; }

        /* === 3. ìº˜ë¦°ë” ë·° ìŠ¤íƒ€ì¼ === */
        #calendar-view {
            width: 100%;
            padding: 20px;
            display: none; /* JSì—ì„œ í† ê¸€ */
        }
        
        #calendar-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            gap: 20px;
        }
        .nav-btn {
            background: var(--bg-item);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        #calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            overflow: hidden;
            background-color: var(--border-color);
        }
        .day-header {
            background-color: var(--bg-item);
            text-align: center;
            padding: 10px 0;
            font-weight: bold;
            font-size: 0.9em;
        }
        .day-header:nth-child(1) { color: var(--accent-color); } 
        .day-header:nth-child(7) { color: #0077ff; } 

        .calendar-day {
            border: 1px solid var(--border-color);
            min-height: 100px;
            padding: 5px;
            position: relative;
            background-color: var(--bg-container);
        }
        .calendar-day.empty {
            background-color: var(--bg-main);
            border-color: transparent;
        }
        .day-number {
            font-size: 1.2em;
            font-weight: bold;
        }
        .calendar-day.today {
            background-color: var(--bg-item);
            border: 2px solid var(--accent-color);
        }

        /* ì§„ì²™ë„ í‘œì‹œ ìŠ¤íƒ€ì¼ */
        .progress-indicator-container {
            display: flex;
            flex-direction: column; 
            align-items: flex-start;
            margin-top: 5px;
        }
        .daily-progress {
            display: flex;
            gap: 3px;
            flex-wrap: wrap; 
        }

        /* ì¼ì¼ ì§„ì²™ë„ ë™ê·¸ë¼ë¯¸ */
        .daily-progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: block;
            border: 1px solid var(--border-color);
            box-sizing: border-box;
        }
        .dot-complete { background-color: var(--progress-complete); border-color: var(--progress-complete); } 
        .dot-partial { background-color: var(--progress-partial); border-color: var(--progress-partial); } 
        .dot-incomplete { background-color: var(--progress-incomplete); border-color: var(--progress-incomplete); } 

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 950px) {
            #main-content-area { flex-direction: column; }
            #favorite-sidebar { width: 100%; min-width: auto; }
            #task-view-container { flex-direction: column; }
            .calendar-day { min-height: 50px; padding: 3px; }
            .day-number { font-size: 0.9em; }
        }

    </style>
</head>
<body class="dark-mode"> 

<div class="container">
    <div id="top-buttons">
        <button id="calendar-toggle-btn" onclick="switchView('calendar')">ğŸ—“ï¸ ìº˜ë¦°ë” ë³´ê¸°</button>
        <button id="theme-toggle" onclick="toggleTheme()"></button>
    </div>
    
    <h1>GCC ì²´í¬ë¦¬ìŠ¤íŠ¸</h1>
    
    <div id="main-view">
        <div id="filter-stats-container">
            <button id="filter-toggle-btn" onclick="toggleFilter()">ğŸ” ìˆ™ì œ ë‚¨ì€ ìºë¦­í„°ë§Œ ë³´ê¸°</button>
        </div>

        <div id="character-selector" ondragover="handleDragOver(event)" ondrop="handleDrop(event)" ondragleave="handleDragLeave(event)"></div>
        <span class="char-select-info">ìºë¦­í„°ë¥¼ ì¦ê²¨ì°¾ê¸° ì‚¬ì´ë“œë°”ë¡œ ë“œë˜ê·¸í•˜ê±°ë‚˜, ì•„ë˜ì—ì„œ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
        
        <div id="current-char-group">
            <h2 id="current-char-name"></h2>
        </div>
        
        <div id="main-content-area">
            <div id="favorite-sidebar" 
                 ondragover="handleDragOver(event)" 
                 ondrop="handleDropToFavorite(event)" 
                 ondragleave="handleDragLeave(event)">
                <h3>â­ï¸ ì¦ê²¨ì°¾ê¸°</h3>
                <div id="favorite-list">
                    <span class="favorite-list-placeholder">ìºë¦­í„°ë¥¼ ì—¬ê¸°ì— ë“œë˜ê·¸í•˜ì„¸ìš”.</span>
                </div>
            </div>

            <div id="task-view-container">
                
                <div class="task-column-wrapper">
                    <h3>ğŸ“… ì¼ì¼ ìˆ™ì œ</h3>
                    <div id="daily-bulk-toggle" class="bulk-toggle-container"></div>
                    <div id="daily-stats-display"></div> 
                    <div id="daily-list"></div>
                </div>

                <div class="task-column-wrapper">
                    <h3>âš”ï¸ ì£¼ê°„ ìˆ™ì œ</h3>
                    <div id="weekly-bulk-toggle" class="bulk-toggle-container"></div>
                    <div id="weekly-stats-display"></div>
                    <div id="weekly-list"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="calendar-view" style="display: none;">
        <h2 style="text-align: center; margin-bottom: 30px;">ğŸ—“ï¸ ì§„ì²™ë„ ë‹¬ë ¥</h2>
        
        <div id="calendar-header">
            <button class="nav-btn" onclick="changeMonth(-1)">&#x25C0; ì´ì „ ë‹¬</button>
            <h2 id="calendar-title"></h2>
            <button class="nav-btn" onclick="changeMonth(1)">ë‹¤ìŒ ë‹¬ &#x25B6;</button>
        </div>
        <div id="calendar-grid">
            <div class="day-header">ì¼</div>
            <div class="day-header">ì›”</div>
            <div class="day-header">í™”</div>
            <div class="day-header">ìˆ˜</div>
            <div class="day-header">ëª©</div>
            <div class="day-header">ê¸ˆ</div>
            <div class="day-header">í† </div>
        </div>
        <p style="margin-top: 20px; font-size: 0.9em; opacity: 0.8;">
            * ì§„ì²™ë„ ì›ì€ **ì¦ê²¨ì°¾ê¸° ìºë¦­í„°**ì™€ **ê³µìœ  ìˆ™ì œ** ê¸°ì¤€ì…ë‹ˆë‹¤. (ğŸŸ¢ 100%, ğŸŸ¡ ë¶€ë¶„, ğŸ”´ 0%)
        </p>
        <button class="nav-btn" style="margin-top: 20px;" onclick="switchView('main')">ğŸ  ë©”ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>

    <div class="footer">
        <div>ë°ì´í„°ëŠ” ë¸Œë¼ìš°ì €ì— ìë™ ì €ì¥ë©ë‹ˆë‹¤. (ê¸°ê¸° ê°„ ì—°ë™ X)</div>
        <div class="footer-credit">Made by ê¹¡</div>
    </div>
</div>

<script>
    // === 1. ê¸°ë³¸ ë°ì´í„° ë° ìƒìˆ˜ ì„¤ì • ===
    const CHAR_COLORS = {
        'ì—˜ë¦¬ì‹œìŠ¤': '#ff0000', 'ë¦¬ë¥´': '#9acd32', 'ì•„ë¥´ë©”': '#a020f0', 'ë¼ìŠ¤': '#87ceeb',
        'ë¼ì´ì–¸': '#008000', 'ë¡œë‚œ': '#4169e1', 'ì—ì´ë¯¸': '#ff69b4', 'ì§„': '#ff4500', 
        'ì§€í¬í•˜íŠ¸': '#000000', 'ë§ˆë¦¬': '#0000ff', 'ë””ì˜¤': '#800080', 'ì œë¡œ': '#3cb371', 
        'ë ˆì´': '#8a2be2', 'ë£¨í¼ìŠ¤': '#b22222', 'ë² ì´ê°€ìŠ¤': '#483d8b', 'ë¦°': '#808080', 
        'ì•„ì‹ ': '#00bfff', 'ë¼ì„': '#32cd32', 'ì—ë¸': '#4169e1', 'ë°ì¹´ë„¤': '#00ffff', 
        'ì•„ì´': '#afeeee', 'ì¹¼ë¦¬ì•„': '#c71585', 'ìš°ë…¸': '#008b8b', 'ì´ë¦¬ìŠ¤': '#add8e6'
    };

    let CHARACTER_NAMES = [
        'ì—˜ë¦¬ì‹œìŠ¤', 'ë¦¬ë¥´', 'ì•„ë¥´ë©”', 'ë¼ìŠ¤', 'ë¼ì´ì–¸', 'ë¡œë‚œ', 'ì—ì´ë¯¸', 'ì§„', 'ì§€í¬í•˜íŠ¸', 'ë§ˆë¦¬', 
        'ë””ì˜¤', 'ì œë¡œ', 'ë ˆì´', 'ë£¨í¼ìŠ¤', 'ë² ì´ê°€ìŠ¤', 'ë¦°', 'ì•„ì‹ ', 'ë¼ì„', 'ì—ë¸', 'ë°ì¹´ë„¤', 
        'ì•„ì´', 'ì¹¼ë¦¬ì•„', 'ìš°ë…¸', 'ì´ë¦¬ìŠ¤'
    ];
    
    // ë˜ì „ ë°ì´í„° (ê°„ì†Œí™”)
    const DUNGEON_DATA = {
        daily: [
            { id: 'berkas', name: 'ë² ë¥´ì¹´ìŠ¤ ìš”ìƒˆ', max: 1, shared: false },
            { id: 'corridor', name: 'ë¬´í•œíšŒë‘', max: 3, shared: true }
        ],
        weekly: [
            { id: 'judge', name: 'ì‹¬íŒì˜ ë•…', max: 3, shared: false },
            { id: 'void_mon', name: 'ê³µí—ˆ ì¹¨ê³µ', max: 1, shared: false, sub: 'ì›”' }, 
        ]
    };
    
    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í‚¤
    const STORAGE_KEYS = {
        CHARACTERS: 'gc_characters',
        ORDER: 'characterOrder',
        FAVORITES: 'favoriteCharacters',
        CURRENT_CHR: 'currentChrId',
        FILTER: 'isFilterActive',
        RESET_TIME: 'lastResetTime',
        SHARED_TASK_PREFIX: 'shared_',
        CALENDAR_PROGRESS: 'gc_calendar_progress', // ìº˜ë¦°ë” ë°ì´í„° í‚¤
        CURRENT_VIEW: 'currentView'
    };
    
    let characters = []; 
    let currentChrId = null; 
    let FAVORITE_NAMES = [];
    let isFilterActive = false; 
    let currentView = 'main'; // 'main' ë˜ëŠ” 'calendar'
    
    // ìº˜ë¦°ë” ë°ì´í„° ê´€ë ¨ ë³€ìˆ˜
    let CALENDAR_PROGRESS = {}; 
    let currentCalendarDate = new Date(); 
    
    // --- ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë³€ìˆ˜ ---
    let draggedElement = null; 

    // === 2. ë³´ì¡° ë° ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ===
    
    function formatDate(date) {
        const d = new Date(date);
        let month = '' + (d.getMonth() + 1);
        let day = '' + d.getDate();
        const year = d.getFullYear();

        if (month.length < 2) month = '0' + month;
        if (day.length < 2) day = '0' + day;

        return [year, month, day].join('-');
    }

    const getTaskMaxCount = (taskId) => {
        let item = DUNGEON_DATA.daily.find(d => d.id === taskId);
        if (!item) item = DUNGEON_DATA.weekly.find(d => d.id === taskId);
        return item ? item.max : 1;
    };

    const getAccountSharedTaskStatus = (id) => {
        const saved = localStorage.getItem(STORAGE_KEYS.SHARED_TASK_PREFIX + id);
        return saved ? JSON.parse(saved) : { completed: 0, max: getTaskMaxCount(id) };
    };

    const setAccountSharedTaskStatus = (id, status) => {
        localStorage.setItem(STORAGE_KEYS.SHARED_TASK_PREFIX + id, JSON.stringify(status));
    };
    
    // === 3. ë°ì´í„° ë¡œì§ (ì´ˆê¸°í™”, ë¦¬ì…‹, í†µê³„, ì €ì¥) ===

    const generateInitialTasks = (type) => {
        const tasks = {};
        DUNGEON_DATA[type].filter(d => !d.shared).forEach(d => {
            tasks[d.id] = { completed: 0, max: d.max };
        });
        return tasks;
    };

    function calculateCharStats(char, type) {
        let totalCount = 0;
        let completedCount = 0;
        
        // ê°œë³„ ìˆ™ì œ í†µê³„
        DUNGEON_DATA[type].filter(d => !d.shared).forEach(d => {
            const status = char[`${type}Tasks`][d.id] || { completed: 0, max: d.max }; 
            totalCount += status.max;
            completedCount += status.completed;
        });
        
        // ê³µìœ  ìˆ™ì œ í†µê³„ (ì¼ì¼ ìˆ™ì œì—ë§Œ ë¬´í•œíšŒë‘ì´ ìˆë‹¤ê³  ê°€ì •)
        if (type === 'daily') {
            const sharedTask = DUNGEON_DATA.daily.find(d => d.shared && d.id === 'corridor');
            if (sharedTask) {
                const status = getAccountSharedTaskStatus(sharedTask.id);
                totalCount += status.max;
                completedCount += status.completed;
            }
        }

        const percentage = totalCount > 0 ? Math.floor((completedCount / totalCount) * 100) : 100;
        
        return { totalCount, completedCount, percentage };
    }
    
    /**
     * í˜„ì¬ ì¦ê²¨ì°¾ê¸° ìºë¦­í„°ì™€ ê³µìœ  ìˆ™ì œì˜ ì§„ì²™ë„ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ë‹¬ë ¥ì— ì €ì¥í•  í˜•íƒœë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
     */
    function collectCurrentProgress() {
        const dailyProgress = {};
        
        // 1. ì¦ê²¨ì°¾ê¸° ìºë¦­í„°ì˜ ì¼ì¼ ì§„ì²™ë„
        FAVORITE_NAMES.forEach(name => {
            const char = characters.find(c => c.name === name);
            if (char) {
                // ì¼ì¼ ìˆ™ì œ í†µê³„ë§Œ ì‚¬ìš©
                dailyProgress[name] = char.dailyStats.percentage;
            }
        });
        
        // 2. ê³µìœ  ì¼ì¼ ìˆ™ì œ ì§„ì²™ë„ (ë¬´í•œíšŒë‘)
        const sharedDaily = DUNGEON_DATA.daily.find(d => d.shared && d.id === 'corridor');
        const sharedStatus = sharedDaily ? getAccountSharedTaskStatus(sharedDaily.id) : { completed: 0, max: 0 };
        const sharedDailyPercent = sharedStatus.max > 0 ? Math.floor((sharedStatus.completed / sharedStatus.max) * 100) : 100;

        return {
            daily: dailyProgress, 
            dailyShared: sharedDailyPercent 
        };
    }
    
    /**
     * ìº˜ë¦°ë” ë°ì´í„° (ì§„ì²™ë„)ë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•©ë‹ˆë‹¤.
     */
    function saveDailyProgress(dateKey) {
        const progressData = collectCurrentProgress();
        
        CALENDAR_PROGRESS[dateKey] = progressData;
        localStorage.setItem(STORAGE_KEYS.CALENDAR_PROGRESS, JSON.stringify(CALENDAR_PROGRESS));
    }
    
    /**
     * ë¦¬ì…‹ì´ í•„ìš”í•œì§€ í™•ì¸í•˜ê³ , í•„ìš”í•˜ë‹¤ë©´ ì ìš©
     */
    function checkAndApplyReset(currentChars, lastResetTime, shouldSave = true) { 
        const now = new Date();
        const dailyResetHour = 15;
        const weeklyResetDay = 3; // ìˆ˜ìš”ì¼ (0=ì¼ìš”ì¼)

        const kstNow = new Date(now.toLocaleString("en-US", { timeZone: "Asia/Seoul" }));
        
        let shouldResetDaily = false;
        let shouldResetWeekly = false;
        
        let lastResetKST = null;
        if (lastResetTime) {
            const lastReset = new Date(lastResetTime);
            lastResetKST = new Date(lastReset.toLocaleString("en-US", { timeZone: "Asia/Seoul" }));
        }

        // --- ì¼ì¼ ì´ˆê¸°í™” í™•ì¸ ---
        let lastDailyCheckTime = lastResetKST ? new Date(lastResetKST) : new Date(0); 
        
        let nextDailyReset = new Date(lastDailyCheckTime);
        nextDailyReset.setHours(dailyResetHour, 0, 0, 0);

        if (lastDailyCheckTime.getHours() >= dailyResetHour) {
            nextDailyReset.setDate(nextDailyReset.getDate() + 1);
        }

        if (kstNow.getTime() >= nextDailyReset.getTime()) {
            shouldResetDaily = true;
            
            const dateToSave = new Date(nextDailyReset);
            dateToSave.setDate(dateToSave.getDate() - 1);
            
            if (shouldSave) {
                // ë¦¬ì…‹ ë°œìƒ ì§ì „ì— ì–´ì œì˜ ìµœì¢… ì§„í–‰ ìƒí™©ì„ ì €ì¥
                saveDailyProgress(formatDate(dateToSave)); 
            }
        }
        
        // --- ì£¼ê°„ ì´ˆê¸°í™” í™•ì¸ ---
        let currentCheckTime = new Date(lastDailyCheckTime);
        currentCheckTime.setHours(dailyResetHour, 0, 0, 0);
        
        let nextWeeklyReset = new Date(currentCheckTime);

        while (nextWeeklyReset.getDay() !== weeklyResetDay || nextWeeklyReset.getTime() <= currentCheckTime.getTime()) {
            nextWeeklyReset.setDate(nextWeeklyReset.getDate() + 1);
            nextWeeklyReset.setHours(dailyResetHour, 0, 0, 0);
        }

        if (kstNow.getTime() >= nextWeeklyReset.getTime()) {
            shouldResetWeekly = true;
        }


        // --- ë¦¬ì…‹ ì ìš© ë° ì €ì¥ ---
        if (shouldResetDaily) {
            currentChars.forEach(char => {
                char.dailyTasks = generateInitialTasks('daily');
            });
            setAccountSharedTaskStatus('corridor', { completed: 0, max: getTaskMaxCount('corridor') });
        }

        if (shouldResetWeekly) {
            currentChars.forEach(char => {
                char.weeklyTasks = generateInitialTasks('weekly');
            });
        }
        
        if (shouldResetDaily || shouldResetWeekly) {
            if (shouldSave) {
                localStorage.setItem(STORAGE_KEYS.RESET_TIME, kstNow.toISOString());
                localStorage.setItem(STORAGE_KEYS.CHARACTERS, JSON.stringify(currentChars));
            }
            return true;
        }

        return false;
    }

    function initializeVariables() {
        // 1. ë°ì´í„° ë¡œë“œ
        const savedOrder = localStorage.getItem(STORAGE_KEYS.ORDER);
        if (savedOrder) {
            const savedNames = JSON.parse(savedOrder);
            const newNames = CHARACTER_NAMES.filter(name => !savedNames.includes(name));
            CHARACTER_NAMES = [...savedNames, ...newNames];
        }
        
        const savedFavorites = localStorage.getItem(STORAGE_KEYS.FAVORITES);
        FAVORITE_NAMES = savedFavorites ? JSON.parse(savedFavorites).filter(name => CHARACTER_NAMES.includes(name)) : [];

        isFilterActive = localStorage.getItem(STORAGE_KEYS.FILTER) === 'true'; 
        currentView = localStorage.getItem(STORAGE_KEYS.CURRENT_VIEW) || 'main';

        const savedData = localStorage.getItem(STORAGE_KEYS.CHARACTERS);
        const lastReset = localStorage.getItem(STORAGE_KEYS.RESET_TIME);

        const existingIds = savedData ? JSON.parse(savedData).map(c => c.id) : [];
        let nextId = existingIds.length > 0 ? Math.max(...existingIds) + 1 : 1;
        const charMap = new Map(savedData ? JSON.parse(savedData).map(c => [c.name, c]) : []);

        characters = CHARACTER_NAMES.map(name => {
            let char = charMap.get(name);
            
            if (!char) {
                char = {
                    id: nextId++,
                    name: name,
                    dailyTasks: generateInitialTasks('daily'),
                    weeklyTasks: generateInitialTasks('weekly')
                };
            }
            
            const updatedChar = { ...char };
            updatedChar.dailyTasks = updatedChar.dailyTasks || generateInitialTasks('daily');
            updatedChar.weeklyTasks = updatedChar.weeklyTasks || generateInitialTasks('weekly');
            
            return updatedChar;
        });
        
        const savedCalendar = localStorage.getItem(STORAGE_KEYS.CALENDAR_PROGRESS);
        CALENDAR_PROGRESS = savedCalendar ? JSON.parse(savedCalendar) : {};
        
        // 2. ë¦¬ì…‹ ì²´í¬ (initializeVariablesì—ì„œëŠ” shouldSave=falseë¡œ í˜¸ì¶œí•˜ì—¬ ì €ì¥ ë°©ì§€)
        checkAndApplyReset(characters, lastReset, false); 
        
        // 3. í†µê³„ ê³„ì‚° ë° í˜„ì¬ ìºë¦­í„° ID ì„¤ì •
        characters.forEach(char => {
            const dailyStats = calculateCharStats(char, 'daily');
            const weeklyStats = calculateCharStats(char, 'weekly');
            char.dailyStats = dailyStats;
            char.weeklyStats = weeklyStats;
            char.hasIncompleteDaily = dailyStats.percentage < 100;
            char.hasIncompleteWeekly = weeklyStats.percentage < 100;
        });
        
        currentChrId = localStorage.getItem(STORAGE_KEYS.CURRENT_CHR) || (characters.length > 0 ? characters[0].id : null);
    }


    // === 4. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (ìˆ™ì œ í† ê¸€ ë° DND) ===
    
    /**
     * ê°œë³„ ìˆ™ì œ í† ê¸€
     */
    function toggleTask(chrId, type, taskId, shared) { 
        const item = DUNGEON_DATA[type].find(d => d.id === taskId);
        
        if (shared) {
            const status = getAccountSharedTaskStatus(taskId);
            const newCount = status.completed === 0 ? item.max : 0; 
            setAccountSharedTaskStatus(taskId, { completed: newCount, max: item.max });
        } else {
            const charIndex = characters.findIndex(c => c.id === chrId);
            if (charIndex === -1) return;
    
            const char = characters[charIndex];
            const currentCount = char[`${type}Tasks`][taskId].completed;
            
            const newCount = currentCount === 0 ? item.max : 0;
            
            char[`${type}Tasks`][taskId].completed = newCount;
            localStorage.setItem(STORAGE_KEYS.CHARACTERS, JSON.stringify(characters));
        }
        
        // ë°ì´í„° ë³€ê²½ ì‹œì ì— ì˜¤ëŠ˜ ì§„ì²™ë„ ì €ì¥
        if (type === 'daily') {
            saveDailyProgress(formatDate(new Date()));
        }
        
        render(); // ìˆ™ì œ ë³€ê²½ í›„ ì „ì²´ ë Œë”ë§
    }
    
    /**
     * ìºë¦­í„°ì˜ ëª¨ë“  ìˆ™ì œë¥¼ ì¼ê´„ ì™„ë£Œ/ì·¨ì†Œ
     * @param {string} type - 'daily' ë˜ëŠ” 'weekly'
     * @param {boolean} complete - trueë©´ ì™„ë£Œ(max), falseë©´ ì·¨ì†Œ(0)
     */
    function toggleAllTasks(type, complete) {
        const charIndex = characters.findIndex(c => c.id == currentChrId);
        if (charIndex === -1) return;

        const char = characters[charIndex];
        const count = complete ? 1 : 0; // ì™„ë£Œë©´ 1(max), ì·¨ì†Œë©´ 0

        // 1. ê°œë³„ ìˆ™ì œ ì—…ë°ì´íŠ¸
        DUNGEON_DATA[type].filter(d => !d.shared).forEach(d => {
            char[`${type}Tasks`][d.id].completed = count * d.max;
        });

        // 2. ê³µìœ  ìˆ™ì œ ì—…ë°ì´íŠ¸ (ì¼ì¼ ìˆ™ì œì—ë§Œ ì ìš©)
        if (type === 'daily') {
            const sharedTask = DUNGEON_DATA.daily.find(d => d.shared && d.id === 'corridor');
            if (sharedTask) {
                setAccountSharedTaskStatus(sharedTask.id, { completed: count * sharedTask.max, max: sharedTask.max });
            }
            // ì¼ê´„ ì™„ë£Œ ì‹œ ì˜¤ëŠ˜ ì§„ì²™ë„ ì €ì¥
            saveDailyProgress(formatDate(new Date()));
        }

        localStorage.setItem(STORAGE_KEYS.CHARACTERS, JSON.stringify(characters));
        render(); // ìˆ™ì œ ë³€ê²½ í›„ ì „ì²´ ë Œë”ë§
    }
    
    // --- DND/ì¦ê²¨ì°¾ê¸° í•¨ìˆ˜ ---
    function saveCharacterOrder() {
        localStorage.setItem(STORAGE_KEYS.ORDER, JSON.stringify(CHARACTER_NAMES));
    }
    function saveFavorites() {
        localStorage.setItem(STORAGE_KEYS.FAVORITES, JSON.stringify(FAVORITE_NAMES));
        // ì¦ê²¨ì°¾ê¸° ëª©ë¡ ë³€ê²½ ì‹œ ì§„ì²™ë„ ì €ì¥ ëŒ€ìƒì´ ë°”ë€Œë¯€ë¡œ ì˜¤ëŠ˜ ë°ì´í„° ê°±ì‹ 
        saveDailyProgress(formatDate(new Date()));
        render();
    }
    function removeFavorite(charName) {
        FAVORITE_NAMES = FAVORITE_NAMES.filter(name => name !== charName);
        saveFavorites();
    }
    function handleDropToFavorite(event) {
        event.preventDefault();
        const droppedCharName = event.dataTransfer.getData("text/plain");
        if (droppedCharName && !FAVORITE_NAMES.includes(droppedCharName)) {
            FAVORITE_NAMES.push(droppedCharName);
            saveFavorites();
        }
        event.currentTarget.classList.remove('drag-over');
    }
    function handleDragStart(event) {
        draggedElement = event.currentTarget;
        event.dataTransfer.setData("text/plain", draggedElement.getAttribute('data-name'));
        event.dataTransfer.effectAllowed = "move";
    }
    function handleDrop(event) {
        event.preventDefault();
        if (!draggedElement || draggedElement === event.currentTarget) return;

        const target = event.currentTarget;
        const nameA = draggedElement.getAttribute('data-name');
        const nameB = target.getAttribute('data-name');

        const indexA = CHARACTER_NAMES.indexOf(nameA);
        const indexB = CHARACTER_NAMES.indexOf(nameB);

        if (indexA > -1 && indexB > -1) {
            [CHARACTER_NAMES[indexA], CHARACTER_NAMES[indexB]] = [CHARACTER_NAMES[indexB], CHARACTER_NAMES[indexA]];
            saveCharacterOrder();
            render();
        }
        event.currentTarget.classList.remove('drag-over');
    }
    function handleDragOver(event) {
        event.preventDefault();
        event.dataTransfer.dropEffect = "move";
        event.currentTarget.classList.add('drag-over');
    }
    function handleDragLeave(event) {
        event.currentTarget.classList.remove('drag-over');
    }

    // === 5. í…Œë§ˆ ë° í•„í„° ë¡œì§ ===
    
    const getTheme = () => localStorage.getItem('theme') || 'dark';

    function setTheme(theme) { 
        document.body.className = theme === 'dark' ? 'dark-mode' : 'light-mode';
        localStorage.setItem('theme', theme);
        updateThemeToggleText(theme);
    }
    
    function toggleTheme() { 
        const currentTheme = getTheme();
        setTheme(currentTheme === 'dark' ? 'light' : 'dark');
    }

    function updateThemeToggleText(theme) {
        const button = document.getElementById('theme-toggle');
        button.innerText = theme === 'dark' ? 'â˜€ï¸ ë‚® ëª¨ë“œ' : 'ğŸŒ™ ë°¤ ëª¨ë“œ';
    }

    function toggleFilter() {
        isFilterActive = !isFilterActive;
        localStorage.setItem(STORAGE_KEYS.FILTER, isFilterActive);
        render();
    }
    
    function updateFilterButton() {
        const button = document.getElementById('filter-toggle-btn');
        if (isFilterActive) {
            button.classList.add('active');
            button.innerText = 'âœ… ìˆ™ì œ ë‚¨ì€ ìºë¦­í„°ë§Œ ë³´ê¸° (í™œì„±)';
        } else {
            button.classList.remove('active');
            button.innerText = 'ğŸ” ìˆ™ì œ ë‚¨ì€ ìºë¦­í„°ë§Œ ë³´ê¸°';
        }
    }
    
    // === 6. ë·° ì „í™˜ ë° ìº˜ë¦°ë” ë¡œì§ ===
    
    /**
     * ë©”ì¸ í™”ë©´ê³¼ ìº˜ë¦°ë” í™”ë©´ì„ ì „í™˜í•©ë‹ˆë‹¤.
     */
    function switchView(viewName) {
        currentView = viewName;
        localStorage.setItem(STORAGE_KEYS.CURRENT_VIEW, viewName);
        
        document.getElementById('main-view').style.display = viewName === 'main' ? 'block' : 'none';
        document.getElementById('calendar-view').style.display = viewName === 'calendar' ? 'block' : 'none';
        
        const calendarBtn = document.getElementById('calendar-toggle-btn');
        calendarBtn.style.display = viewName === 'main' ? 'inline-block' : 'none';
        
        if (viewName === 'calendar') {
            renderCalendar();
        }
    }
    
    function changeMonth(delta) {
        currentCalendarDate.setMonth(currentCalendarDate.getMonth() + delta);
        renderCalendar();
    }

    function renderCalendar() {
        const date = currentCalendarDate;
        const year = date.getFullYear();
        const month = date.getMonth(); 

        document.getElementById('calendar-title').innerText = `${year}ë…„ ${month + 1}ì›”`;

        const grid = document.getElementById('calendar-grid');
        while (grid.children.length > 7) {
            grid.removeChild(grid.lastChild);
        }

        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const startDayOfWeek = firstDay.getDay(); 

        for (let i = 0; i < startDayOfWeek; i++) {
            const emptyDay = document.createElement('div');
            emptyDay.className = 'calendar-day empty';
            grid.appendChild(emptyDay);
        }

        const todayKey = formatDate(new Date());
        for (let day = 1; day <= lastDay.getDate(); day++) {
            const currentDate = new Date(year, month, day);
            const dateKey = formatDate(currentDate);

            const dayDiv = document.createElement('div');
            dayDiv.className = 'calendar-day';
            if (dateKey === todayKey) {
                dayDiv.classList.add('today');
            }
            
            const dayNumber = document.createElement('div');
            dayNumber.className = 'day-number';
            dayNumber.innerText = day;
            dayDiv.appendChild(dayNumber);
            
            const progressContainer = document.createElement('div');
            progressContainer.className = 'progress-indicator-container';
            
            const progressData = CALENDAR_PROGRESS[dateKey] || 
                                 (dateKey === todayKey ? collectCurrentProgress() : null);

            if (progressData && FAVORITE_NAMES.length > 0) {
                const dailyContainer = document.createElement('div');
                dailyContainer.className = 'daily-progress';
                
                // 1. ì¦ê²¨ì°¾ê¸° ìºë¦­í„° ì§„ì²™ë„
                FAVORITE_NAMES.forEach(name => {
                    const percent = progressData.daily[name] !== undefined ? progressData.daily[name] : 100;
                    
                    let dotClass = '';
                    if (percent === 100) dotClass = 'dot-complete';
                    else if (percent > 0) dotClass = 'dot-partial';
                    else dotClass = 'dot-incomplete';
                    
                    const dot = document.createElement('span');
                    dot.className = `daily-progress-dot ${dotClass}`;
                    dot.title = `${name}: ${percent}%`;
                    dailyContainer.appendChild(dot);
                });

                // 2. ê³µìœ  ìˆ™ì œ ì§„ì²™ë„ (ë¬´í•œíšŒë‘)
                const sharedPercent = progressData.dailyShared !== undefined ? progressData.dailyShared : 100;
                let sharedDotClass = '';
                if (sharedPercent === 100) sharedDotClass = 'dot-complete';
                else if (sharedPercent > 0) sharedDotClass = 'dot-partial';
                else sharedDotClass = 'dot-incomplete';
                
                const sharedDot = document.createElement('span');
                sharedDot.className = `daily-progress-dot ${sharedDotClass}`;
                sharedDot.title = `ë¬´í•œíšŒë‘(ê³µìœ ): ${sharedPercent}%`;
                dailyContainer.appendChild(sharedDot);
                
                progressContainer.appendChild(dailyContainer);
            }

            dayDiv.appendChild(progressContainer);
            grid.appendChild(dayDiv);
        }
    }
    
    // === 7. ë Œë”ë§ í•¨ìˆ˜ (UI ì—…ë°ì´íŠ¸) ===

    function selectCharacter(id) { 
        currentChrId = id; 
        localStorage.setItem(STORAGE_KEYS.CURRENT_CHR, id); 
        render(); 
    }

    // (renderCharacterSelector, renderFavorites í•¨ìˆ˜ëŠ” ì´ì „ ì½”ë“œì™€ ë™ì¼í•˜ë¯€ë¡œ ìƒëµ)
    function renderCharacterSelector() {
        const selector = document.getElementById('character-selector');
        selector.innerHTML = '';

        CHARACTER_NAMES.forEach(name => {
            const char = characters.find(c => c.name === name);
            if (!char) return; 

            if (isFilterActive && char.dailyStats.percentage === 100 && char.weeklyStats.percentage === 100) {
                return; 
            }

            const btn = document.createElement('button');
            btn.className = `char-btn ${char.id == currentChrId ? 'active' : ''}`;
            btn.setAttribute('data-id', char.id);
            btn.setAttribute('data-name', char.name);
            btn.setAttribute('draggable', true);
            btn.onclick = () => selectCharacter(char.id);
            btn.ondragstart = handleDragStart;
            btn.ondrop = handleDrop;
            btn.ondragover = handleDragOver;
            btn.ondragleave = handleDragLeave;

            const dailyBar = `<div class="progress-bar-container"><div class="progress-bar" style="width: ${char.dailyStats.percentage}%; background-color: ${CHAR_COLORS[name]};"></div></div>`;
            const weeklyBar = `<div class="progress-bar-container"><div class="progress-bar" style="width: ${char.weeklyStats.percentage}%; background-color: ${CHAR_COLORS[name]};"></div></div>`;

            btn.innerHTML = `${name}${dailyBar}${weeklyBar}`;
            selector.appendChild(btn);
        });
    }

    function renderFavorites() {
        const favoriteList = document.getElementById('favorite-list');
        favoriteList.innerHTML = '';

        if (FAVORITE_NAMES.length === 0) {
            favoriteList.innerHTML = '<span class="favorite-list-placeholder">ìºë¦­í„°ë¥¼ ì—¬ê¸°ì— ë“œë˜ê·¸í•˜ì„¸ìš”.</span>';
            return;
        }

        FAVORITE_NAMES.forEach(name => {
            const char = characters.find(c => c.name === name);
            if (!char) return; 

            const item = document.createElement('div');
            item.className = 'favorite-item';
            item.setAttribute('data-name', name);
            item.setAttribute('draggable', true);
            item.ondragstart = handleDragStart;
            item.ondrop = (e) => { e.preventDefault(); removeFavorite(name); }; 
            item.ondragover = handleDragOver;
            item.ondragleave = handleDragLeave;

            const dailyBar = `<div class="progress-bar-container"><div class="progress-bar" style="width: ${char.dailyStats.percentage}%; background-color: ${CHAR_COLORS[name]};"></div></div>`;
            const weeklyBar = `<div class="progress-bar-container"><div class="progress-bar" style="width: ${char.weeklyStats.percentage}%; background-color: ${CHAR_COLORS[name]};"></div></div>`;

            item.innerHTML = `<span>${name}</span>${dailyBar}${weeklyBar}`;
            favoriteList.appendChild(item);
        });
    }
    
    function renderBulkButtons(type, stats) {
        const container = document.getElementById(`${type}-bulk-toggle`);
        container.innerHTML = '';
        
        const completeBtn = document.createElement('button');
        completeBtn.className = 'bulk-toggle-btn complete';
        completeBtn.innerText = `${type === 'daily' ? 'ì¼ì¼' : 'ì£¼ê°„'} ì „ì²´ ì™„ë£Œ`;
        completeBtn.onclick = () => toggleAllTasks(type, true);
        
        const incompleteBtn = document.createElement('button');
        incompleteBtn.className = 'bulk-toggle-btn incomplete';
        incompleteBtn.innerText = `${type === 'daily' ? 'ì¼ì¼' : 'ì£¼ê°„'} ì „ì²´ ì·¨ì†Œ`;
        incompleteBtn.onclick = () => toggleAllTasks(type, false);

        if (stats.percentage === 100) {
            completeBtn.disabled = true;
            completeBtn.style.opacity = 0.5;
        }

        container.appendChild(completeBtn);
        container.appendChild(incompleteBtn);
    }


    function renderTaskList() {
        const char = characters.find(c => c.id == currentChrId);
        if (!char) {
            // ... (ìƒëµ)
             document.getElementById('current-char-name').innerText = "ìºë¦­í„°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.";
             document.getElementById('daily-list').innerHTML = '';
             document.getElementById('weekly-list').innerHTML = '';
             document.getElementById('daily-bulk-toggle').innerHTML = '';
             document.getElementById('weekly-bulk-toggle').innerHTML = '';
             return;
        }
        
        document.getElementById('current-char-name').innerText = `[${char.name}] ì„ íƒë¨`;

        // --- ì¼ì¼ ìˆ™ì œ ë Œë”ë§ ---
        const dailyList = document.getElementById('daily-list');
        dailyList.innerHTML = '';
        
        DUNGEON_DATA.daily.filter(d => !d.shared).forEach(d => {
            const status = char.dailyTasks[d.id] || { completed: 0, max: d.max };
            const isDone = status.completed === status.max;
            dailyList.innerHTML += `
                <div class="task-item ${isDone ? 'done' : ''}" onclick="toggleTask(${char.id}, 'daily', '${d.id}', false)">
                    <span>${d.name} (${status.completed}/${status.max})</span>
                    <span>${isDone ? 'âœ…' : 'â¬œ'}</span>
                </div>
            `;
        });
        
        DUNGEON_DATA.daily.filter(d => d.shared).forEach(d => {
            const status = getAccountSharedTaskStatus(d.id);
            const isDone = status.completed === status.max;
            dailyList.innerHTML += `
                <div class="task-item ${isDone ? 'done' : ''}" onclick="toggleTask(${char.id}, 'daily', '${d.id}', true)">
                    <span>[ê³µìœ ] ${d.name} (${status.completed}/${status.max})</span>
                    <span>${isDone ? 'âœ…' : 'â¬œ'}</span>
                </div>
            `;
        });

        document.getElementById('daily-stats-display').innerText = `ì¼ì¼: ${char.dailyStats.completedCount}/${char.dailyStats.totalCount} (${char.dailyStats.percentage}%)`;
        renderBulkButtons('daily', char.dailyStats);


        // --- ì£¼ê°„ ìˆ™ì œ ë Œë”ë§ ---
        const weeklyList = document.getElementById('weekly-list');
        weeklyList.innerHTML = '';
        
        DUNGEON_DATA.weekly.filter(d => !d.shared).forEach(d => {
            const status = char.weeklyTasks[d.id] || { completed: 0, max: d.max };
            const isDone = status.completed === status.max;
            weeklyList.innerHTML += `
                <div class="task-item ${isDone ? 'done' : ''}" onclick="toggleTask(${char.id}, 'weekly', '${d.id}', false)">
                    <span>${d.name} (${status.completed}/${status.max})</span>
                    <span>${isDone ? 'âœ…' : 'â¬œ'}</span>
                </div>
            `;
        });

        document.getElementById('weekly-stats-display').innerText = `ì£¼ê°„: ${char.weeklyStats.completedCount}/${char.weeklyStats.totalCount} (${char.weeklyStats.percentage}%)`;
        renderBulkButtons('weekly', char.weeklyStats);
    }

    function render() {
        initializeVariables(); 
        setTheme(getTheme()); 
        
        // ë·° ì „í™˜
        switchView(currentView);
        
        // ë©”ì¸ ë·° ìš”ì†Œë“¤ë§Œ ë Œë”ë§
        if (currentView === 'main') {
            renderCharacterSelector(); 
            renderFavorites();
            renderTaskList(); 
            updateFilterButton(); 
        }
    }

    // === 8. ì‹œì‘ ë° ì£¼ê¸°ì  ì²´í¬ ===
    
    /** ì£¼ê¸°ì ìœ¼ë¡œ ë¦¬ì…‹ì„ ì²´í¬í•˜ê³ , ë¦¬ì…‹ì´ ë°œìƒí•˜ë©´ ì „ì²´ UIë¥¼ ë Œë”ë§ */
    function checkResetAndRender() {
        const lastReset = localStorage.getItem(STORAGE_KEYS.RESET_TIME);
        let savedData = localStorage.getItem(STORAGE_KEYS.CHARACTERS);
        let tempCharacters = savedData ? JSON.parse(savedData) : [];
        
        const resetOccurred = checkAndApplyReset(tempCharacters, lastReset, true);
        
        if (resetOccurred || tempCharacters.length === 0) {
            render();
        } else if (currentView === 'calendar') {
            // ìº˜ë¦°ë” ë·° ìƒíƒœì—ì„œ ë¦¬ì…‹ì´ ì—†ì—ˆë”ë¼ë„ ìº˜ë¦°ë”ë§Œ ê°±ì‹  (ì„ íƒì )
            renderCalendar(); 
        }
    }

    // ì „ì—­ ìŠ¤ì½”í”„ì— í•¨ìˆ˜ ë…¸ì¶œ (HTML onclick ì‚¬ìš©ì„ ìœ„í•¨)
    window.toggleTheme = toggleTheme;
    window.switchView = switchView;
    window.changeMonth = changeMonth;
    window.toggleTask = toggleTask;
    window.toggleAllTasks = toggleAllTasks;
    window.toggleFilter = toggleFilter;
    window.handleDragStart = handleDragStart;
    window.handleDragOver = handleDragOver;
    window.handleDragLeave = handleDragLeave;
    window.handleDrop = handleDrop;
    window.handleDropToFavorite = handleDropToFavorite;
    window.selectCharacter = selectCharacter; 

    render(); // ìµœì´ˆ ë Œë”ë§
    
    // 1ë¶„ë§ˆë‹¤ ë¦¬ì…‹ì„ ì²´í¬í•©ë‹ˆë‹¤.
    setInterval(checkResetAndRender, 60000); 

</script>

</body>
</html>
